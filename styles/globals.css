/* styles/globals.css */

/* Google Fonts を使いたければ _document.js に仕込む。ここではシステムフォントで軽量に */
:root{
  --bg-from:#fdf2f8;   /* very light pink */
  --bg-via:#f5f3ff;    /* very light lavender */
  --bg-to:#eff6ff;     /* very light blue */

  /* テキストは濃いめで可読性優先 */
  --text:#1f2937;

  /* ほーぷちゃん（AI）吹き出し：白ベース＋ほんのりシャドウ */
  --ai-bubble-bg:#fffffff2;

  /* ユーザー吹き出し＆アイコン：淡いグラデ（薄め） */
  --user-grad-from:#fde2f3;  /* 薄いピンク */
  --user-grad-via:#e9e7ff;   /* 薄いラベンダー */
  --user-grad-to:#e6f0ff;    /* 薄いブルー */

  /* バッジ（ステータス）の縁取り */
  --badge-ring:#e9d5ff;
  --card-shadow: 0 10px 25px rgba(0,0,0,.06);
}

*{ box-sizing:border-box; }
html,body,#__next{ height:100%; }

body{
  margin:0;
  color:var(--text);
  background: linear-gradient(180deg, var(--bg-from) 0%, var(--bg-via) 45%, var(--bg-to) 100%);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  font-family: ui-sans-serif, system-ui, "Helvetica Neue", Arial, "Noto Sans JP", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
}

/* レイアウト */
.container{
  max-width: 1040px;
  margin: 0 auto;
  padding: 24px 20px 120px;
}

/* ヘッダ */
.header{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; margin-bottom:14px;
}
.title{
  font-size: clamp(22px, 3vw, 28px);
  font-weight: 800;
  letter-spacing:.02em;
  background: linear-gradient(90deg,#a78bfa,#60a5fa);
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}
.step{
  font-size:12px; color:#6b7280;
}
.status-row{
  display:flex; flex-wrap:wrap; gap:8px;
  margin: 6px 0 16px;
}
.badge{
  font-size:12px; padding:6px 10px; border-radius:999px;
  background:#ffffffaa; border:1px solid var(--badge-ring);
  backdrop-filter: saturate(180%) blur(4px);
}

/* チャット */
.chat{
  display:flex; flex-direction:column; gap:14px;
}
.msg{
  display:flex; gap:10px; align-items:flex-start;
}
.msg.ai{ justify-content:flex-start; }
.msg.user{ justify-content:flex-end; }

.avatar{
  width:36px; height:36px; border-radius:999px;
  box-shadow: var(--card-shadow);
  display:flex; align-items:center; justify-content:center;
  font-size: 18px;
  flex:0 0 auto;
  border:2px solid #fff;
  overflow:hidden;
}
.avatar.ai{
  background:#eef2ff;
}
.avatar.user{
  background: linear-gradient(135deg, var(--user-grad-from), var(--user-grad-via) 50%, var(--user-grad-to));
  /* 薄さ禁止：常に不透明 */
  opacity: 1;
}

.bubble{
  max-width: 760px;
  border-radius:16px;
  padding:14px 16px;
  line-height:1.8;
  box-shadow: var(--card-shadow);
  word-break: break-word;
  white-space: pre-wrap;
  font-size: 15px;
}
.ai .bubble{
  background: var(--ai-bubble-bg);
  border:1px solid #f3e8ff;
}
.user .bubble{
  background: linear-gradient(135deg, var(--user-grad-from), var(--user-grad-via) 50%, var(--user-grad-to));
  border:1px solid #e9d5ff;
}

/* 入力バー */
.input-bar{
  position:fixed; left:0; right:0; bottom:0;
  background: #ffffffd9;
  backdrop-filter: blur(10px);
  border-top:1px solid #f3e8ff;
}
.input-inner{
  max-width:1040px; margin: 12px auto;
  display:flex; gap:8px; padding:0 16px 10px;
}
.textarea{
  flex:1; resize:none; min-height:48px; max-height:140px;
  padding:14px 14px; border-radius:14px;
  border:1px solid #e9d5ff; outline:none;
  background:#fff;
  font-size:15px; line-height:1.6;
}
.textarea::placeholder{ color:#9ca3af; }
.send{
  width:48px; height:48px; border-radius:14px;
  border:none; cursor:pointer;
  background: linear-gradient(135deg,#f0abfc,#93c5fd);
  color:white; display:flex; align-items:center; justify-content:center;
  box-shadow: var(--card-shadow);
}
.send:disabled{ opacity:.6; cursor:not-allowed; }

/* メッセージリストの一番下へスムーズスクロール */
.list{ scroll-behavior:smooth; }
